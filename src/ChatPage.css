/* src/ChatPage.css */

/* --- ▼ 変更点（画像アイコン） ▼ --- */
.icon-image {
    width: 100%;
    height: 100%;
    object-fit: cover; /* 画像がコンテナいっぱいに広がる */
    border-radius: 50%; /* 親の .icon-placeholder が丸いので不要かもですが念のため */
}
/* --- ▲ 変更点（画像アイコン） ▲ --- */

.icon-placeholder {
display: flex;
height: 40px;
width: 40px;
flex-shrink: 0;
align-items: center;
justify-content: center;
border-radius: 9999px; 
color: white;
/* --- ▼ 変更点 ▼ --- */
overflow: hidden; /* 画像がはみ出ないように */
background-color: #f0f0f0; /* 画像読み込み中の背景 */
/* --- ▲ 変更点 ▲ --- */
}

/* .mentor-icon-bg は画像になるので削除してもOK */


/* ( ... .chat-window は変更なし ... ) */
.chat-window {
display: flex;
flex-direction: column;
height: 100%; 
width: 100%;
background-color: white; 
}

/* --- ▼ 変更点（ヘッダー） ▼ --- */
.chat-header {
display: flex; /* Flexboxに変更 */
align-items: center; /* 垂直中央揃え */

border-bottom: 1px solid #e5e7eb;
background-color: #f9fafb;
padding: 1rem;
flex-shrink: 0; 
}

.chat-back-button {
background: none;
border: none;
font-size: 1.75rem; /* 大きめの < */
font-weight: bold;
color: #333;
cursor: pointer;
width: 40px; /* スペーサーと同じ幅 */
padding: 0;
text-align: left; /* < を左端に */
}

.chat-header h2 {
flex: 1; /* 残りの幅をすべて使う */
text-align: center; /* タイトルを中央に */
margin: 0; /* デフォルトマージンをリセット */
font-size: 1.125rem;
font-weight: 600;
color: #1f2937;
}

/* 戻るボタンの反対側に配置する透明なスペーサー */
.header-spacer {
width: 40px; /* 戻るボタンと同じ幅 */
}
/* --- ▲ 変更点（ヘッダー） ▲ --- */


/* ( ... メッセージ一覧エリア .chat-messages は変更なし ... ) */
.chat-messages {
flex: 1 1 0%;
overflow-y: auto;
padding: 1rem;
background-color: #e6e6e6; 
}
.chat-messages > * + * {
margin-top: 1rem;
}

/* ( ... .message-row, .message-bubble などのLINE風UIは変更なし ... ) */
.message-row {
display: flex;
align-items: flex-start;
}
.message-row.user {
justify-content: flex-end;
}
.message-row.mentor {
justify-content: flex-start;
}
.avatar-wrapper {
flex-shrink: 0;
}
.message-bubble {
position: relative; 
max-width: 70%; 
padding: 0.75rem 1rem; 
border-radius: 12px; 
word-wrap: break-word; 
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); 
}
.message-row.mentor .message-bubble {
background-color: #ffffff;
color: #000000;
margin-left: 0.75rem; 
}
.message-row.mentor .message-bubble::before {
content: "";
position: absolute;
top: 10px; 
left: -8px; 
width: 0;
height: 0;
border-style: solid;
border-width: 8px 8px 8px 0; 
border-color: transparent #ffffff transparent transparent; 
}
.message-row.user .message-bubble {
background-color: #90e070; 
color: #000000; 
margin-right: 0.75rem; 
}
.message-row.user .message-bubble::after {
content: "";
position: absolute;
top: 10px; 
right: -8px; 
width: 0;
height: 0;
border-style: solid;
border-width: 8px 0 8px 8px; 
border-color: transparent transparent transparent #90e070; 
}
.typing-indicator {
}
.typing-bubble {
max-width: 80%;
padding: 0.5rem 1rem;
border-radius: 0.5rem;
background-color: #e5e7eb;
color: #6b7280;
border-bottom-left-radius: 0;
margin-left: 0.75rem;
}

/* ( ... 入力フォームエリアは変更なし ... ) */
.chat-input-form-area {
border-top: 1px solid #e5e7eb;
background-color: #f9fafb;
padding: 1rem;
flex-shrink: 0;
}
.chat-input-form {
display: flex;
}
.chat-input {
flex: 1 1 0%;
border-radius: 0.5rem 0 0 0.5rem;
border: 1px solid #d1d5db;
padding: 0.5rem 0.75rem;
font-size: 1rem;
}
.chat-input:focus {
border-color: #3b82f6;
outline: none;
}
.chat-submit-button {
border-radius: 0 0.5rem 0.5rem 0;
padding: 0.5rem 1rem;
font-weight: 600;
color: white;
background-color: #3b82f6;
border: none;
cursor: pointer;
transition: background-color 0.2s;
}
.chat-submit-button:hover {
background-color: #2563eb;
}
.chat-submit-button:disabled {
background-color: #9ca3af;
cursor: not-allowed;
}